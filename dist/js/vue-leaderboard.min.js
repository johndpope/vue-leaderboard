!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).VueLeaderBoard=e()}(this,function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e={props:{type:{type:String,default:"border-default"},bWidth:{type:Number,default:1},url:String,size:{type:Number,default:60}}};var a=function(t,e,a,s,i,r,o,n,l,d){"boolean"!=typeof o&&(l=n,n=o,o=!1);var c,p="function"==typeof a?a.options:a;if(t&&t.render&&(p.render=t.render,p.staticRenderFns=t.staticRenderFns,p._compiled=!0,i&&(p.functional=!0)),s&&(p._scopeId=s),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},p._ssrRegister=c):e&&(c=o?function(){e.call(this,d(this.$root.$options.shadowRoot))}:function(t){e.call(this,n(t))}),c)if(p.functional){var u=p.render;p.render=function(t,e){return c.call(e),u(t,e)}}else{var f=p.beforeCreate;p.beforeCreate=f?[].concat(f,c):[c]}return a},s="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var i=document.head||document.getElementsByTagName("head")[0],r={};var o=function(t){return function(t,e){return function(t,e){var a=s?e.media||"default":t,o=r[a]||(r[a]={ids:new Set,styles:[]});if(!o.ids.has(t)){o.ids.add(t);var n=e.source;if(e.map&&(n+="\n/*# sourceURL="+e.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),o.element||(o.element=document.createElement("style"),o.element.type="text/css",e.media&&o.element.setAttribute("media",e.media),i.appendChild(o.element)),"styleSheet"in o.element)o.styles.push(n),o.element.styleSheet.cssText=o.styles.filter(Boolean).join("\n");else{var l=o.ids.size-1,d=document.createTextNode(n),c=o.element.childNodes;c[l]&&o.element.removeChild(c[l]),c.length?o.element.insertBefore(d,c[l]):o.element.appendChild(d)}}}(t,e)}};var n=a({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"avatar",class:this.type,style:{width:this.size+"px",height:this.size+"px",lineHeight:this.size+"px",borderWidth:this.bWidth+"px"}},[e("img",{attrs:{src:this.url}})])])},staticRenderFns:[]},function(t){t&&t("data-v-4a57a802_0",{source:".avatar[data-v-4a57a802]{margin:0 auto;border-radius:100%;position:relative;display:block;overflow:hidden;border-style:solid;background:#fff}.avatar.border-default[data-v-4a57a802]{border-color:rgba(0,0,0,.1)}.avatar[data-v-4a57a802] :hover{text-decoration:none}.avatar>img[data-v-4a57a802]{width:100%;position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}",map:void 0,media:void 0})},e,"data-v-4a57a802",!1,void 0,o,void 0);return a({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"leaderboard__wrapper"},[t.board.length>=4?a("div",{staticClass:"leaderboard__",style:t.scale},[a("div",{ref:t.name,staticClass:"row no-gutters py-4 align-items-center leaderboard__content"},[a("div",{staticClass:"col-12"},[a("h2",{staticClass:"pt-3 text-center font-weight-bold position-fixed d-none d-md-block",staticStyle:{top:"0",left:"0"}},[t._t("default")],2),t._v(" "),a("div",{staticClass:"row no-gutters justify-content-center d-none d-md-flex mb-4"},[a("div",{staticClass:"col-lg-10 col-xl-8"},[a("div",{staticClass:"row no-gutters align-items-end"},t._l(t.top3,function(e,s){return a("div",{staticClass:"col px-4"},[a("a",{attrs:{href:"https://upbox.ajt.my/businessunits/report/"+e.bu_id,target:"_blank"}},[a("div",{staticClass:"leaderboard__card_top text-center"},[a("span",{staticClass:"leaderboard__number mb-4"},[t._v(t._s(t.handleCountTop3(s)))]),t._v(" "),1===t.handleCountTop3(s)?a("div",[a("div",{staticClass:"position-relative mx-auto",staticStyle:{width:"140px",height:"140px"}},[a("img",{staticStyle:{width:"250px",position:"absolute",left:"-55px",top:"-55px"},attrs:{src:t.icon.success}}),t._v(" "),a("avatar",{attrs:{url:e.avatar,size:140,type:"border-success",bWidth:4}})],1)]):a("div",[a("div",{staticClass:"position-relative mx-auto",staticStyle:{width:"100px",height:"100px"}},[a("img",{staticStyle:{width:"182px",position:"absolute",left:"-41px",top:"-41px"},attrs:{src:t.icon.warning}}),t._v(" "),a("avatar",{attrs:{url:e.avatar,size:100,type:"border-warning",bWidth:4}})],1)]),t._v(" "),a("p",{staticClass:"mt-4 mb-0 font-weight-bold text-nowrap",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n                      "+t._s(e.bu_name)+"\n                    ")]),t._v(" "),a("div",{staticStyle:{"line-height":"1"}},["hourly"===t.sort?a("p",{staticClass:"text-success text-nowrap m-0 font-weight-bold"},[t._v("\n                        "+t._s(e.hourly)+"\n                      ")]):"profit"===t.sort?a("p",{staticClass:"text-success text-nowrap m-0 font-weight-bold"},[t._v("\n                        "+t._s(e.profit)+"\n                      ")]):t._e()]),t._v(" "),a("p",{staticClass:"m-0 text-muted"},[t._v("TL: "+t._s(e.team_lead))])])])])}),0)])]),t._v(" "),a("div",{staticClass:"row no-gutters d-flex d-md-none",staticStyle:{margin:"0 -.5em"}},t._l(t.top3Normal,function(e,s){return a("div",{staticClass:" col-md-6 col-lg-3 col-xl-2 mt-4 px-2",class:{"mt-4":0!=s}},[a("a",{attrs:{href:"https://upbox.ajt.my/businessunits/report/"+e.bu_id,target:"_blank"}},[a("div",{staticClass:"leaderboard__card",class:{"border-success":0===s,"border-warning":0!==s}},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"position-relative"},[a("div",{staticClass:"position-absolute",staticStyle:{left:"-1px",top:"-28px"}},[a("span",{staticClass:"leaderboard__number"},[t._v(t._s(s+1))])]),t._v(" "),a("div",{staticClass:"position-absolute",staticStyle:{left:"10px",top:"50%",transform:"translateY(-50%)"}},[a("avatar",{attrs:{url:e.avatar,size:65}})],1),t._v(" "),a("div",{staticStyle:{"padding-left":"85px","padding-right":"10px"}},[a("p",{staticClass:"m-0 text-nowrap font-weight-bold",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n                          "+t._s(e.bu_name)+"\n                        ")]),t._v(" "),a("div",{staticStyle:{"line-height":"1"}},["hourly"===t.sort?a("p",{staticClass:"text-success text-nowrap m-0 font-weight-bold",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n                            "+t._s(e.hourly)+"\n                          ")]):"profit"===t.sort?a("p",{staticClass:"text-success text-nowrap m-0 font-weight-bold",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n                            "+t._s(e.profit)+"\n                          ")]):t._e()]),t._v(" "),a("p",{staticClass:"mb-0 text-muted text-nowrap",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n                          TL: "+t._s(e.team_lead)+"\n                        ")])])])])])])])])}),0),t._v(" "),a("div",{staticClass:"row no-gutters",staticStyle:{margin:"0 -.5em"}},t._l(t.belowTop3,function(e,s){return a("div",{directives:[{name:"for-callback",rawName:"v-for-callback",value:{key:s,array:t.belowTop3,callback:t.handleScale},expression:"{\n              key: index,\n              array: belowTop3,\n              callback: handleScale\n            }"}],staticClass:" col-md-6 col-lg-3 col-xl-2 mt-4 px-2"},[a("a",{attrs:{href:"https://upbox.ajt.my/businessunits/report/"+e.bu_id,target:"_blank"}},[a("div",{staticClass:"leaderboard__card border-default text-left"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"position-relative"},[a("div",{staticClass:"position-absolute",staticStyle:{left:"-1px",top:"-28px"}},[a("span",{staticClass:"leaderboard__number"},[t._v(t._s(s+4))])]),t._v(" "),a("div",{staticClass:"position-absolute",staticStyle:{left:"10px",top:"50%",transform:"translateY(-50%)"}},[a("avatar",{attrs:{url:e.avatar,size:65}})],1),t._v(" "),a("div",{staticStyle:{"padding-left":"85px","padding-right":"10px"}},[a("p",{staticClass:"m-0  text-nowrap font-weight-bold",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n                          "+t._s(e.bu_name)+"\n                        ")]),t._v(" "),a("div",{staticStyle:{"line-height":"1"}},["hourly"===t.sort?a("p",{staticClass:"text-success text-nowrap m-0 font-weight-bold",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n                            "+t._s(e.hourly)+"\n                          ")]):"profit"===t.sort?a("p",{staticClass:"text-success text-nowrap m-0 font-weight-bold",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n                            "+t._s(e.profit)+"\n                          ")]):t._e()]),t._v(" "),a("p",{staticClass:"mb-0 text-muted text-nowrap",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n                          TL: "+t._s(e.team_lead)+"\n                        ")])])])])])])])])}),0)])])]):t._e()])},staticRenderFns:[]},function(t){t&&t("data-v-7cfb03fa_0",{source:".leaderboard__wrapper[data-v-7cfb03fa]{padding:0 20px;margin:0 auto}.leaderboard__[data-v-7cfb03fa]{position:relative;height:100vh}.leaderboard__ a[data-v-7cfb03fa]{text-decoration:none;color:inherit}.leaderboard__ .leaderboard__content[data-v-7cfb03fa]{min-height:100%}.leaderboard__ .leaderboard__card_top .leaderboard__number[data-v-7cfb03fa]{font-size:18px;border:1px solid rgba(0,0,0,.1);width:30px;display:inline-block;text-align:center;line-height:1.5;background:#ff0}.leaderboard__ .leaderboard__card[data-v-7cfb03fa]{padding:10px 0;border:1px solid rgba(0,0,0,.1)}.leaderboard__ .leaderboard__card .leaderboard__number[data-v-7cfb03fa]{font-size:18px;border:1px solid rgba(0,0,0,.1);width:30px;display:block;text-align:center;line-height:1.5;background:#ff0}",map:void 0,media:void 0})},{components:{avatar:n},props:{name:String,sortby:{type:String,default:""},icon:Object},data:function(){return{scaleNumber:1,sorting:this.sortby,buData:[]}},mounted:function(){this.handleGetData()},computed:{sort:function(){return this.sorting},board:function(){return this.buData},top3:function(){var t=this.board.splice(0,3),e=t[0];return[t[1],e,t[2]]},top3Normal:function(){var t=this.top3;return[t[1],t[0],t[2]]},belowTop3:function(){return this.board},scale:function(){return"transform:scale("+this.scaleNumber+")translateX(-50%);transform-origin: 0 0;left: 50%;"}},methods:{reload:function(){this.handleGetData()},handleGetData:function(){var t=this;this.buData=[],$.ajax({url:"https://upbox.ajt.my/api/bulist?sortby="+this.sorting,type:"GET",dataType:"json",success:function(e){"success"==e.status&&(t.buData=e.data)}})},handleChangeSort:function(t){this.$emit("sortby",t.target.value),this.sorting=t.target.value,this.handleGetData()},handleScale:function(){var t=this;this.$nextTick(function(){if(window.innerWidth>1199){var e=t.$refs[t.name].offsetHeight,a=window.innerHeight,s=(e-a)/e;e>a&&(t.scaleNumber=1-s)}})},handleCountTop3:function(t){switch(t){case 0:return 2;case 1:return 1;case 2:return 3}}},directives:{forCallback:function(e,a){var s=a.value,i=s.key,r=0;if(Array.isArray(s.array))r=s.array.length;else if("object"===t(s.array)){var o=Object.keys(s.array);i=o.indexOf(i),r=o.length}i==r-1&&"function"==typeof s.callback&&s.callback()}}},"data-v-7cfb03fa",!1,void 0,o,void 0)});
